<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors</title>
    <link href="StyleSheet.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@900&display=swap" rel="stylesheet">
</head>
<body>
    <div>
        <h1>ROCK PAPER SCISSORS</h1>
        <h2>You 😃 vs 🤖 the computer. Who will reach 5 points first?</h2>
        <h2>Pick your hand!</h2>
        <button class="button" id="rock">✊🏻</button>
        <button class="button" id="paper">✋🏻</button>
        <button class="button" id="scissors">✌🏻</button>
    </div> 
    <div id="score">
    </div>
</body>
<script>

    //This function allows the computer to pick 'rock', 'paper', or 'scissors'
    function computerPlay () {
     switch(Math.floor(Math.random()*3)) {
      case 0:
        return 'rock';
        break;
      case 1:
        return 'scissors';
        break;
      case 2:
        return 'paper';
  	};
    }

    //This function compares the two hands, increments the score, alerts the player who won the round, calls the function
    //alertWinner to check if there is a winner of the match, then calls the function updateScore() to
    //update the score stored in the corresponding global variables
    function playRound (playerSelection, computerPlay) {
        if (playerSelection === computerPlay) {
            alert('🤷🏻It\'s a tie! The computer picked the same hand!');
            alertWinner();
            updateScore();
        } else if (playerSelection === 'rock' & computerPlay === 'paper') {
            computerScore = ++computerScore;
            alert('😩You lose! The computer picked ✋🏻!');
            alertWinner();
            updateScore();
        } else if (playerSelection === 'rock' & computerPlay === 'scissors') {
            playerScore = ++playerScore;
            alert('🥳You win! The computer picked ✌🏻!');
            alertWinner();
            updateScore();
        } else if (playerSelection === 'paper' & computerPlay === 'scissors') {
            computerScore = ++computerScore;
            alert('😩You lose! The computer picked ✌🏻!');
            alertWinner();
            updateScore();
        } else if (playerSelection === 'paper' & computerPlay === 'rock') {
            playerScore = ++playerScore;
            alert('🥳You win! The computer picked ✊🏻!');
            alertWinner();
            updateScore();
        } else if (playerSelection === 'scissors' & computerPlay === 'rock') {
            computerScore = ++computerScore;
            alert('😩You lose! The computer picked ✊🏻!');
            alertWinner();
            updateScore();
        } else if (playerSelection === 'scissors' & computerPlay === 'paper') {
            playerScore = ++playerScore;
            alert('🥳You win! The computer picked ✋🏻!');
            alertWinner();
            updateScore();
        }
    }

    //These variables at the global level are used to store the score of
    //the player and the computer
    let playerScore = 0;
    let computerScore = 0;

    //This variable targets the div with id='score'
    let score = document.querySelector('#score');

    //This is the function that we call in playRound(), which updates the text of the div at each round
    //with the score of player and computer
    function updateScore () {
        score.textContent = 'You: ' + playerScore + ' ' + 'Computer: ' + computerScore;
    }

    //This function is called at each round in the function playRound() and checks if one of the players
    //has reached 5 points. If so, it alerts the winner and resets the score to zero
    //by calling the function resetScore()
    function alertWinner () {
        if (playerScore === 5) {
            alert('You are the winner of this match! Woohoo! 🤩🏆');
            resetScore();
        } else if (computerScore === 5) {
            alert('😭 The computer wins this match! Try again!');
            resetScore();
        }
    }

    //This function is called in the function alertWinner() and it resets the score
    function resetScore() {
        playerScore = 0;
        computerScore = 0;
    }

    //These variables are event listeners. 
    //When you press the corresponding button in the UI,
    //the function playRound is called. It is here provided with the arguments of the
    //pressed button (either rock, paper, or scissors) and computerPlay (which is a function called here)
    const rock = document.querySelector('#rock');
    rock.addEventListener('click', () => {
        playRound('rock', computerPlay()); /*As you see, the value 'rock' is passed as an argument of the function playRound*/
        });
    
    const paper = document.querySelector('#paper');
    paper.addEventListener('click', () => {
        playRound('paper', computerPlay()); /*As you see, the value 'paper' is passed as an argument of the function playRound*/
        });

    const scissors = document.querySelector('#scissors');
    scissors.addEventListener('click', () => {
        playRound('scissors', computerPlay()); /*As you see, the value 'scissors' is passed as an argument of the function playRound*/
        });
        
    </script>
</html>